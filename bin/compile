#!/usr/bin/env bash

set -e

root="$(pwd)"
build_dir="$1"
cache_dir="$2"
#env_dir="$3"

echo "Build dir: $build_dir"
echo "Cache dir: $cache_dir"

VERSION="5.5.0.10i"

status() {
  echo "-----> $*"
}

#mkdir -p $cache_dir/bin

#if [[ -f $cache_dir/bin/lp_solve ]]; then
  #status "lpsolve $VERSION is already installed"
#else
  #status "Downloading and installing lpsolve $VERSION"
  #curl 'http://bashdb.sourceforge.net/lpsolve-5.5.0.10i.tar.bz2' -o - | tar xjf - -C "$build_dir/vendor"
  #cd $build_dir/vendor/lpsolve-5.5.0.10i
  #./configure --prefix=$cache_dir && make && make check && make install
  #rm -rf $build_dir/vendor
#fi

#ln -fs $cache_dir/bin/lp_solve $root/lp_solve

#status "Building runtime environment"
#mkdir -p $build_dir/.profile.d
#echo "export PATH=\$PATH:$cache_dir/bin" > $build_dir/.profile.d/lpsolve.sh
